// Demo data for testing without API connection

export const demoProducts = [
  {
    id: '1',
    name: 'iPhone 14 Pro Max 256GB',
    costPriceTRY: 45000,
    retailPriceRUB: 89900,
    wholesalePriceRUB: 84900,
    barcode: '194252430620',
    quantity: 0,  // В наличии
    soldQuantity: 45,
    revenue: 3825000,
    netProfit: 1147500,
    marginPercent: 30,
    averageConsumptionDaily: 1.5,
    daysInStock: 0,
    inDelivery: 30,
    firstSaleDate: '2024-03-15',
    createdAt: '2024-01-15T10:00:00Z',
    updatedAt: '2024-01-20T15:30:00Z'
  },
  {
    id: '2',
    name: 'Samsung Galaxy S23 Ultra 512GB',
    costPriceTRY: 42000,
    retailPriceRUB: 84900,
    wholesalePriceRUB: 79900,
    barcode: '888744052133',
    quantity: 5,
    soldQuantity: 38,
    revenue: 3034200,
    netProfit: 758550,
    marginPercent: 25,
    averageConsumptionDaily: 1.2,
    daysInStock: 4,
    inDelivery: 20,
    firstSaleDate: '2024-03-10',
    createdAt: '2024-01-10T09:00:00Z',
    updatedAt: '2024-01-22T14:20:00Z'
  },
  {
    id: '3',
    name: 'iPhone 15 Pro 128GB',
    costPriceTRY: 48000,
    retailPriceRUB: 94900,
    wholesalePriceRUB: 89900,
    barcode: '194252652428',
    quantity: 12,
    soldQuantity: 52,
    revenue: 4678200,
    netProfit: 1637370,
    marginPercent: 35,
    averageConsumptionDaily: 1.8,
    daysInStock: 7,
    inDelivery: 25,
    firstSaleDate: '2024-02-20',
    createdAt: '2024-01-12T11:30:00Z',
    updatedAt: '2024-01-23T16:45:00Z'
  },
  {
    id: '4',
    name: 'Google Pixel 8 Pro 256GB',
    costPriceTRY: 35000,
    retailPriceRUB: 74900,
    wholesalePriceRUB: 69900,
    barcode: '842776133212',
    quantity: 8,
    soldQuantity: 28,
    revenue: 1957400,
    netProfit: 587220,
    marginPercent: 30,
    averageConsumptionDaily: 0.9,
    daysInStock: 9,
    inDelivery: 15,
    firstSaleDate: '2024-03-01',
    createdAt: '2024-01-08T08:15:00Z',
    updatedAt: '2024-01-19T12:00:00Z'
  },
  {
    id: '5',
    name: 'OnePlus 11 256GB',
    costPriceTRY: 28000,
    retailPriceRUB: 59900,
    wholesalePriceRUB: 54900,
    barcode: '619876543210',
    quantity: 18,
    soldQuantity: 42,
    revenue: 2305800,
    netProfit: 691740,
    marginPercent: 30,
    averageConsumptionDaily: 1.3,
    daysInStock: 14,
    inDelivery: 0,
    firstSaleDate: '2024-02-15',
    createdAt: '2024-01-14T13:45:00Z',
    updatedAt: '2024-01-21T10:30:00Z'
  },
  {
    id: '6',
    name: 'Xiaomi 13 Pro 512GB',
    costPriceTRY: 32000,
    retailPriceRUB: 64900,
    wholesalePriceRUB: 59900,
    barcode: '692134567890',
    quantity: 22,
    soldQuantity: 35,
    revenue: 2096500,
    netProfit: 628950,
    marginPercent: 30,
    averageConsumptionDaily: 1.1,
    daysInStock: 20,
    inDelivery: 10,
    firstSaleDate: '2024-03-05',
    createdAt: '2024-01-11T09:20:00Z',
    updatedAt: '2024-01-22T11:15:00Z'
  },
  {
    id: '7',
    name: 'iPhone 14 128GB',
    costPriceTRY: 35000,
    retailPriceRUB: 69900,
    wholesalePriceRUB: 64900,
    barcode: '194252651234',
    quantity: 15,
    soldQuantity: 58,
    revenue: 3764200,
    netProfit: 1129260,
    marginPercent: 30,
    averageConsumptionDaily: 1.9,
    daysInStock: 8,
    inDelivery: 20,
    firstSaleDate: '2024-02-01',
    createdAt: '2024-01-09T10:00:00Z',
    updatedAt: '2024-01-20T14:30:00Z'
  },
  {
    id: '8',
    name: 'Samsung Galaxy Z Fold5 512GB',
    costPriceTRY: 65000,
    retailPriceRUB: 139900,
    wholesalePriceRUB: 129900,
    barcode: '888744123456',
    quantity: 3,
    soldQuantity: 12,
    revenue: 1558800,
    netProfit: 389700,
    marginPercent: 25,
    averageConsumptionDaily: 0.4,
    daysInStock: 8,
    inDelivery: 5,
    firstSaleDate: '2024-03-20',
    createdAt: '2024-01-13T15:00:00Z',
    updatedAt: '2024-01-21T17:20:00Z'
  },
  {
    id: '9',
    name: 'Nothing Phone (2) 256GB',
    costPriceTRY: 25000,
    retailPriceRUB: 54900,
    wholesalePriceRUB: 49900,
    barcode: '752398461234',
    quantity: 25,
    soldQuantity: 30,
    revenue: 1497000,
    netProfit: 449100,
    marginPercent: 30,
    averageConsumptionDaily: 1.0,
    daysInStock: 25,
    inDelivery: 0,
    firstSaleDate: '2024-02-25',
    createdAt: '2024-01-16T08:30:00Z',
    updatedAt: '2024-01-23T09:45:00Z'
  },
  {
    id: '10',
    name: 'OPPO Find X6 Pro 256GB',
    costPriceTRY: 38000,
    retailPriceRUB: 79900,
    wholesalePriceRUB: 74900,
    barcode: '695847123654',
    quantity: 7,
    soldQuantity: 20,
    revenue: 1498000,
    netProfit: 374500,
    marginPercent: 25,
    averageConsumptionDaily: 0.6,
    daysInStock: 12,
    inDelivery: 10,
    firstSaleDate: '2024-03-12',
    createdAt: '2024-01-07T11:00:00Z',
    updatedAt: '2024-01-18T13:30:00Z'
  },
  {
    id: '11',
    name: 'Realme GT3 256GB',
    costPriceTRY: 22000,
    retailPriceRUB: 44900,
    wholesalePriceRUB: 39900,
    barcode: '625489731254',
    quantity: 35,
    soldQuantity: 25,
    revenue: 997500,
    netProfit: 299250,
    marginPercent: 30,
    averageConsumptionDaily: 0.8,
    daysInStock: 44,
    inDelivery: 0,
    firstSaleDate: '2024-03-08',
    createdAt: '2024-01-06T09:15:00Z',
    updatedAt: '2024-01-17T10:20:00Z'
  },
  {
    id: '12',
    name: 'iPhone 13 256GB',
    costPriceTRY: 30000,
    retailPriceRUB: 64900,
    wholesalePriceRUB: 59900,
    barcode: '194252098765',
    quantity: 20,
    soldQuantity: 65,
    revenue: 3893500,
    netProfit: 1168050,
    marginPercent: 30,
    averageConsumptionDaily: 2.1,
    daysInStock: 10,
    inDelivery: 15,
    firstSaleDate: '2024-01-20',
    createdAt: '2024-01-05T14:00:00Z',
    updatedAt: '2024-01-19T15:45:00Z'
  },
  {
    id: '13',
    name: 'iPad Pro 12.9" 256GB',
    costPriceTRY: 55000,
    retailPriceRUB: 114900,
    wholesalePriceRUB: 109900,
    barcode: '194252765432',
    quantity: 6,
    soldQuantity: 18,
    revenue: 1978200,
    netProfit: 593460,
    marginPercent: 30,
    averageConsumptionDaily: 0.6,
    daysInStock: 10,
    inDelivery: 8,
    firstSaleDate: '2024-02-28',
    createdAt: '2024-01-04T10:00:00Z',
    updatedAt: '2024-01-18T14:30:00Z'
  },
  {
    id: '14',
    name: 'AirPods Pro 2',
    costPriceTRY: 12000,
    retailPriceRUB: 24900,
    wholesalePriceRUB: 22900,
    barcode: '194252987654',
    quantity: 45,
    soldQuantity: 85,
    revenue: 1947500,
    netProfit: 584250,
    marginPercent: 30,
    averageConsumptionDaily: 2.8,
    daysInStock: 16,
    inDelivery: 50,
    firstSaleDate: '2024-01-25',
    createdAt: '2024-01-03T11:30:00Z',
    updatedAt: '2024-01-20T09:15:00Z'
  },
  {
    id: '15',
    name: 'Samsung Galaxy Watch 6',
    costPriceTRY: 15000,
    retailPriceRUB: 32900,
    wholesalePriceRUB: 29900,
    barcode: '888744234567',
    quantity: 28,
    soldQuantity: 40,
    revenue: 1196000,
    netProfit: 358800,
    marginPercent: 30,
    averageConsumptionDaily: 1.3,
    daysInStock: 22,
    inDelivery: 0,
    firstSaleDate: '2024-02-10',
    createdAt: '2024-01-02T08:45:00Z',
    updatedAt: '2024-01-19T16:20:00Z'
  },
  {
    id: '16',
    name: 'MacBook Air M2 256GB',
    costPriceTRY: 70000,
    retailPriceRUB: 139900,
    wholesalePriceRUB: 134900,
    barcode: '194252345678',
    quantity: 4,
    soldQuantity: 14,
    revenue: 1888650,
    netProfit: 377730,
    marginPercent: 20,
    averageConsumptionDaily: 0.5,
    daysInStock: 8,
    inDelivery: 6,
    firstSaleDate: '2024-03-18',
    createdAt: '2024-01-01T12:00:00Z',
    updatedAt: '2024-01-17T13:45:00Z'
  },
  {
    id: '17',
    name: 'Sony WH-1000XM5',
    costPriceTRY: 18000,
    retailPriceRUB: 37900,
    wholesalePriceRUB: 34900,
    barcode: '402760123456',
    quantity: 18,
    soldQuantity: 32,
    revenue: 1116800,
    netProfit: 335040,
    marginPercent: 30,
    averageConsumptionDaily: 1.0,
    daysInStock: 18,
    inDelivery: 0,
    firstSaleDate: '2024-02-05',
    createdAt: '2023-12-28T14:20:00Z',
    updatedAt: '2024-01-16T10:30:00Z'
  },
  {
    id: '18',
    name: 'Xiaomi Mi Band 8',
    costPriceTRY: 2500,
    retailPriceRUB: 4990,
    wholesalePriceRUB: 4490,
    barcode: '692134987654',
    quantity: 85,
    soldQuantity: 120,
    revenue: 538800,
    netProfit: 161640,
    marginPercent: 30,
    averageConsumptionDaily: 4.0,
    daysInStock: 21,
    inDelivery: 100,
    firstSaleDate: '2024-01-15',
    createdAt: '2023-12-25T09:00:00Z',
    updatedAt: '2024-01-15T11:45:00Z'
  }
];

// Расширенный список клиентов
const customers = [
  'Иван Петров',
  'ООО "МобилТрейд"',
  'Анна Сидорова',
  'ИП Козлов С.А.',
  'Мария Иванова',
  'ООО "ТехноПарк"',
  'Алексей Новиков',
  'ИП Смирнова Е.В.',
  'Сергей Федоров',
  'ООО "ГаджетМаркет"',
  'Елена Васильева',
  'ИП Морозов П.Н.',
  'Дмитрий Орлов',
  'ООО "СмартФон"',
  'Ольга Белова',
  'ИП Соколов А.В.',
  'Николай Кузнецов',
  'ООО "АйТиШоп"',
  'Татьяна Попова',
  'ИП Лебедев И.С.',
  'Андрей Волков',
  'ООО "МегаГаджет"',
  'Наталья Новикова',
  'ИП Романов Д.А.',
  'Владимир Зайцев',
  'ООО "ТехноСити"',
  'Екатерина Павлова',
  'ИП Семенов В.И.',
  'Михаил Воробьев',
  'ООО "ДиджиталСтор"'
];

// Генерируем больше заказов
const generateOrders = () => {
  const orders = [];
  const statuses = ['shipped', 'processing', 'delivered', 'pending', 'cancelled'];
  const cities = ['Москва', 'Санкт-Петербург', 'Казань', 'Екатеринбург', 'Новосибирск', 'Нижний Новгород', 'Челябинск', 'Самара', 'Омск', 'Ростов-на-Дону'];
  
  // Генерируем заказы за последние 60 дней
  for (let i = 0; i < 150; i++) {
    const daysAgo = Math.floor(Math.random() * 60);
    const orderDate = new Date();
    orderDate.setDate(orderDate.getDate() - daysAgo);
    
    const customer = customers[Math.floor(Math.random() * customers.length)];
    const status = statuses[Math.floor(Math.random() * statuses.length)];
    const numProducts = Math.floor(Math.random() * 3) + 1;
    const products = [];
    let totalAmount = 0;
    
    for (let j = 0; j < numProducts; j++) {
      const product = demoProducts[Math.floor(Math.random() * demoProducts.length)];
      const quantity = Math.floor(Math.random() * 5) + 1;
      const price = customer.includes('ООО') || customer.includes('ИП') 
        ? product.wholesalePriceRUB 
        : product.retailPriceRUB;
      
      products.push({
        name: product.name,
        quantity,
        price
      });
      
      totalAmount += price * quantity;
    }
    
    orders.push({
      id: `${1001 + i}`,
      customerName: customer,
      orderDate: orderDate.toISOString().split('T')[0],
      status,
      totalAmount,
      city: cities[Math.floor(Math.random() * cities.length)],
      createdAt: orderDate.toISOString(),
      updatedAt: new Date(orderDate.getTime() + Math.random() * 48 * 60 * 60 * 1000).toISOString(),
      products
    });
  }
  
  return orders.sort((a, b) => new Date(b.orderDate).getTime() - new Date(a.orderDate).getTime());
};

export const demoOrders = generateOrders();

export const demoPurchases = [
  {
    id: 'p1',
    date: '2024-01-15',
    supplier: 'TechWorld Turkey',
    liraRate: 3.2,
    estimatedDeliveryDays: 7,
    status: 'delivered',
    totalTRY: 450000,
    items: [
      { productId: '1', productName: 'iPhone 14 Pro Max 256GB', qty: 10, unitCostTRY: 45000 }
    ],
    createdAt: '2024-01-15T12:00:00Z',
    updatedAt: '2024-01-22T14:00:00Z'
  },
  {
    id: 'p2',
    date: '2024-01-10',
    supplier: 'Digital Bazaar Istanbul',
    liraRate: 3.15,
    estimatedDeliveryDays: 10,
    status: 'in_transit',
    totalTRY: 560000,
    items: [
      { productId: '2', productName: 'Samsung Galaxy S23 Ultra 512GB', qty: 10, unitCostTRY: 42000 },
      { productId: '5', productName: 'OnePlus 11 256GB', qty: 5, unitCostTRY: 28000 }
    ],
    createdAt: '2024-01-10T09:30:00Z',
    updatedAt: '2024-01-10T09:30:00Z'
  },
  {
    id: 'p3',
    date: '2024-01-08',
    supplier: 'Mobile Hub Ankara',
    liraRate: 3.18,
    estimatedDeliveryDays: 5,
    status: 'delivered',
    totalTRY: 320000,
    items: [
      { productId: '6', productName: 'Xiaomi 13 Pro 512GB', qty: 10, unitCostTRY: 32000 }
    ],
    createdAt: '2024-01-08T14:20:00Z',
    updatedAt: '2024-01-13T10:00:00Z'
  }
];

export const demoExpenses = [
  {
    id: 'e1',
    date: '2024-01-22',
    type: 'Закупка товара',
    description: 'Закупка iPhone 14 Pro Max у поставщика TechWorld Turkey',
    amountRUB: 1440000,
    createdAt: '2024-01-22T10:00:00Z',
    updatedAt: '2024-01-22T10:00:00Z'
  },
  {
    id: 'e2',
    date: '2024-01-20',
    type: 'Логистика',
    description: 'Доставка груза из Турции (авиа)',
    amountRUB: 85000,
    createdAt: '2024-01-20T14:30:00Z',
    updatedAt: '2024-01-20T14:30:00Z'
  },
  {
    id: 'e3',
    date: '2024-01-18',
    type: 'Аренда',
    description: 'Аренда склада и офиса за январь',
    amountRUB: 180000,
    createdAt: '2024-01-18T09:00:00Z',
    updatedAt: '2024-01-18T09:00:00Z'
  },
  {
    id: 'e4',
    date: '2024-01-15',
    type: 'Зарплата',
    description: 'Зарплата сотрудников за первую половину января',
    amountRUB: 450000,
    createdAt: '2024-01-15T17:00:00Z',
    updatedAt: '2024-01-15T17:00:00Z'
  },
  {
    id: 'e5',
    date: '2024-01-12',
    type: 'Реклама',
    description: 'Реклама в Яндекс.Директ и Google Ads',
    amountRUB: 120000,
    createdAt: '2024-01-12T11:30:00Z',
    updatedAt: '2024-01-12T11:30:00Z'
  },
  {
    id: 'e6',
    date: '2024-01-10',
    type: 'Прочее',
    description: 'Канцелярия, хозтовары, интернет',
    amountRUB: 25000,
    createdAt: '2024-01-10T16:00:00Z',
    updatedAt: '2024-01-10T16:00:00Z'
  },
  // Добавляем больше расходов
  {
    id: 'e7',
    date: '2024-01-23',
    type: 'Закупка товара',
    description: 'Закупка Samsung Galaxy S23 Ultra партия 20шт',
    amountRUB: 1598000,
    createdAt: '2024-01-23T11:00:00Z',
    updatedAt: '2024-01-23T11:00:00Z'
  },
  {
    id: 'e8',
    date: '2024-01-21',
    type: 'Таможенные платежи',
    description: 'Таможенное оформление груза из Турции',
    amountRUB: 95000,
    createdAt: '2024-01-21T14:00:00Z',
    updatedAt: '2024-01-21T14:00:00Z'
  },
  {
    id: 'e9',
    date: '2024-01-19',
    type: 'Налоги',
    description: 'Авансовый платеж по налогу на прибыль',
    amountRUB: 280000,
    createdAt: '2024-01-19T10:00:00Z',
    updatedAt: '2024-01-19T10:00:00Z'
  },
  {
    id: 'e10',
    date: '2024-01-17',
    type: 'Страхование',
    description: 'Страхование груза и складских помещений',
    amountRUB: 65000,
    createdAt: '2024-01-17T09:30:00Z',
    updatedAt: '2024-01-17T09:30:00Z'
  },
  {
    id: 'e11',
    date: '2024-01-14',
    type: 'IT и связь',
    description: 'Подписка на CRM, 1С, интернет и телефония',
    amountRUB: 45000,
    createdAt: '2024-01-14T15:00:00Z',
    updatedAt: '2024-01-14T15:00:00Z'
  },
  {
    id: 'e12',
    date: '2024-01-11',
    type: 'Обслуживание',
    description: 'ТО автотранспорта и складского оборудования',
    amountRUB: 58000,
    createdAt: '2024-01-11T12:30:00Z',
    updatedAt: '2024-01-11T12:30:00Z'
  },
  {
    id: 'e13',
    date: '2024-01-08',
    type: 'Юридические услуги',
    description: 'Юридическое сопровождение и консультации',
    amountRUB: 75000,
    createdAt: '2024-01-08T10:00:00Z',
    updatedAt: '2024-01-08T10:00:00Z'
  },
  {
    id: 'e14',
    date: '2024-01-05',
    type: 'Упаковка',
    description: 'Закупка упаковочных материалов',
    amountRUB: 32000,
    createdAt: '2024-01-05T16:30:00Z',
    updatedAt: '2024-01-05T16:30:00Z'
  }
];

// Обновленная аналитика с более реалистичными данными
export const demoAnalytics = {
  summary: {
    totalRevenue: 12850000,
    totalExpenses: 8900000,
    netProfit: 3950000,
    totalOrders: 150,
    averageOrderValue: 85667,
    topProducts: [
      { name: 'iPhone 14 Pro Max 256GB', revenue: 2157600, quantity: 24 },
      { name: 'Samsung Galaxy S23 Ultra 512GB', revenue: 1867800, quantity: 22 },
      { name: 'iPhone 15 Pro 128GB', revenue: 1518400, quantity: 16 },
      { name: 'MacBook Air M2 256GB', revenue: 1399000, quantity: 10 },
      { name: 'iPad Pro 12.9" 256GB', revenue: 1264900, quantity: 11 },
      { name: 'Xiaomi 13 Pro 512GB', revenue: 973500, quantity: 15 },
      { name: 'Google Pixel 8 Pro 256GB', revenue: 823900, quantity: 11 },
      { name: 'OnePlus 11 256GB', revenue: 778700, quantity: 13 }
    ],
    topCustomers: [
      { name: 'ООО "МобилТрейд"', totalSpent: 2847000, orders: 12 },
      { name: 'ООО "ТехноПарк"', totalSpent: 2156000, orders: 9 },
      { name: 'ИП Смирнова Е.В.', totalSpent: 1893000, orders: 8 },
      { name: 'ООО "ГаджетМаркет"', totalSpent: 1652000, orders: 7 },
      { name: 'ИП Козлов С.А.', totalSpent: 1428000, orders: 6 },
      { name: 'ООО "СмартФон"', totalSpent: 1285000, orders: 5 },
      { name: 'ИП Морозов П.Н.', totalSpent: 1124000, orders: 5 },
      { name: 'ООО "АйТиШоп"', totalSpent: 987000, orders: 4 }
    ]
  },
  charts: {
    dailyRevenue: generateDailyRevenue(),
    categoryBreakdown: [
      { category: 'Флагманы Apple', revenue: 6810900, percentage: 53 },
      { category: 'Флагманы Samsung', revenue: 2827500, percentage: 22 },
      { category: 'Средний сегмент', revenue: 2056100, percentage: 16 },
      { category: 'Аксессуары', revenue: 770200, percentage: 6 },
      { category: 'Бюджетные устройства', revenue: 385300, percentage: 3 }
    ],
    monthlyGrowth: [
      { month: 'Ноябрь', revenue: 8500000, profit: 2550000 },
      { month: 'Декабрь', revenue: 10200000, profit: 3060000 },
      { month: 'Январь', revenue: 12850000, profit: 3950000 }
    ]
  }
};

// Функция генерации дневной выручки за последние 30 дней
function generateDailyRevenue() {
  const revenue = [];
  const today = new Date();
  
  for (let i = 29; i >= 0; i--) {
    const date = new Date(today);
    date.setDate(date.getDate() - i);
    
    // Генерируем выручку с учетом выходных (меньше продаж)
    const isWeekend = date.getDay() === 0 || date.getDay() === 6;
    const baseRevenue = isWeekend ? 250000 : 450000;
    const variance = Math.random() * 200000 - 100000;
    
    revenue.push({
      date: date.toISOString().split('T')[0],
      revenue: Math.round(baseRevenue + variance)
    });
  }
  
  return revenue;
}

// Функция для имитации задержки API
export const simulateDelay = (ms: number = 300) => 
  new Promise(resolve => setTimeout(resolve, ms)); 